<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8" />
    <title>Login / Signup</title>
  </head>

  <body>
    <h2>Login or Sign Up</h2>
    <input type="email" id="email" placeholder="Email" />
    <input type="password" id="password" placeholder="Password" />
    <button onclick="login()">Login</button>
    <button onclick="signup()">Sign Up</button>
    <p id="message"></p>
    <!-- Firebase SDKs (compat) -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script>
      const firebaseConfig = {
        apiKey: "AIzaSyC-Y6WeSNWa6SnP6vYyjLDAwJGnfo1WxS4",
        authDomain: "d-sums.firebaseapp.com",
        projectId: "d-sums",
        storageBucket: "d-sums.firebasestorage.app",
        messagingSenderId: "211039259595",
        appId: "1:211039259595:web:6abe2d63f875b53a20844e",
        measurementId: "G-NCG1110X86"
      };

      firebase.initializeApp(firebaseConfig);
      const auth = firebase.auth();

      function signup() {
        const email = document.getElementById('email').value;
        const password = document.getElementById('password').value;
        auth.createUserWithEmailAndPassword(email, password)
          .then(() => {
            document.getElementById('message').textContent = "Signed up successfully! You can now log in.";
          })
          .catch(error => {
            document.getElementById('message').textContent = error.message;
          });
      }

      function login() {
        const email = document.getElementById('email').value;
        const password = document.getElementById('password').value;
        auth.signInWithEmailAndPassword(email, password)
          .then(() => {
            document.getElementById('message').textContent = "Logged in successfully!";
            window.location.href = "index.html"; // redirect to protected page
          })
          .catch(error => {
            document.getElementById('message').textContent = error.message;
          });
      }
    </script>
  </body>

</html>